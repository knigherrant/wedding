(function(e){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],e)}else{e(jQuery)}})(function(e){"use strict";function L(t){if(t&&t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined)){t.allowPageScroll=u}if(t.click!==undefined&&t.tap===undefined){t.tap=t.click}if(!t){t={}}t=e.extend({},e.fn.swipe.defaults,t);return this.each(function(){var n=e(this);var r=n.data(C);if(!r){r=new A(this,t);n.data(C,r)}})}function A(d,k){function rt(t){if(Ft())return;if(e(t.target).closest(k.excludedElements,z).length>0)return;var n=t.originalEvent?t.originalEvent:t;var r,i=x?n.touches[0]:n;X=b;if(x){V=n.touches.length}else{t.preventDefault()}P=0;H=null;R=null;B=0;j=0;F=0;I=1;q=0;J=zt();U=Vt();Bt();if(!x||V===k.fingers||k.fingers===g||yt()){qt(0,i);K=tn();if(V==2){qt(1,n.touches[1]);j=F=Kt(J[0].start,J[1].start)}if(k.swipeStatus||k.pinchStatus){r=lt(n,X)}}else{r=false}if(r===false){X=S;lt(n,X);return r}else{if(k.hold){tt=setTimeout(e.proxy(function(){z.trigger("hold",[n.target]);if(k.hold){r=k.hold.call(z,n,n.target)}},this),k.longTapThreshold)}It(true)}return null}function it(e){var t=e.originalEvent?e.originalEvent:e;if(X===E||X===S||jt())return;var n,r=x?t.touches[0]:t;var i=Rt(r);Q=tn();if(x){V=t.touches.length}if(k.hold)clearTimeout(tt);X=w;if(V==2){if(j==0){qt(1,t.touches[1]);j=F=Kt(J[0].start,J[1].start)}else{Rt(t.touches[1]);F=Kt(J[0].end,J[1].end);R=Gt(J[0].end,J[1].end)}I=Qt(j,F);q=Math.abs(j-F)}if(V===k.fingers||k.fingers===g||!x||yt()){H=en(i.start,i.end);mt(e,H);P=Yt(i.start,i.end);B=Jt();Wt(H,P);if(k.swipeStatus||k.pinchStatus){n=lt(t,X)}if(!k.triggerOnTouchEnd||k.triggerOnTouchLeave){var s=true;if(k.triggerOnTouchLeave){var o=nn(this);s=rn(i.end,o)}if(!k.triggerOnTouchEnd&&s){X=ft(w)}else if(k.triggerOnTouchLeave&&!s){X=ft(E)}if(X==S||X==E){lt(t,X)}}}else{X=S;lt(t,X)}if(n===false){X=S;lt(t,X)}}function st(e){var t=e.originalEvent;if(x){if(t.touches.length>0){Ht();return true}}if(jt()){V=Y}Q=tn();B=Jt();if(pt()||!ht()){X=S;lt(t,X)}else if(k.triggerOnTouchEnd||k.triggerOnTouchEnd==false&&X===w){e.preventDefault();X=E;lt(t,X)}else if(!k.triggerOnTouchEnd&&Nt()){X=E;ct(t,X,c)}else if(X===w){X=S;lt(t,X)}It(false);return null}function ot(){V=0;Q=0;K=0;j=0;F=0;I=1;Bt();It(false)}function ut(e){var t=e.originalEvent;if(k.triggerOnTouchLeave){X=ft(E);lt(t,X)}}function at(){z.unbind(A,rt);W.unbind(D,ot);W.unbind(O,it);W.unbind(M,st);if(_){z.unbind(_,ut)}It(false)}function ft(e){var t=e;var n=vt();var r=ht();var i=pt();if(!n||i){t=S}else if(r&&e==w&&(!k.triggerOnTouchEnd||k.triggerOnTouchLeave)){t=E}else if(!r&&e==E&&k.triggerOnTouchLeave){t=S}return t}function lt(e,t){var n=undefined;if(St()||Et()){n=ct(e,t,f)}if((bt(e)||yt())&&n!==false){n=ct(e,t,l)}if(Dt()&&n!==false){n=ct(e,t,h)}else if(Pt()&&n!==false){n=ct(e,t,p)}else if(_t()&&n!==false){n=ct(e,t,c)}if(t===S){ot(e)}if(t===E){if(x){if(e.touches.length==0){ot(e)}}else{ot(e)}}return n}function ct(u,a,d){var v=undefined;if(d==f){z.trigger("swipeStatus",[a,H||null,P||0,B||0,V,J]);if(k.swipeStatus){v=k.swipeStatus.call(z,u,a,H||null,P||0,B||0,V,J);if(v===false)return false}if(a==E&&wt()){z.trigger("swipe",[H,P,B,V,J]);if(k.swipe){v=k.swipe.call(z,u,H,P,B,V,J);if(v===false)return false}switch(H){case t:z.trigger("swipeLeft",[H,P,B,V,J]);if(k.swipeLeft){v=k.swipeLeft.call(z,u,H,P,B,V,J)}break;case n:z.trigger("swipeRight",[H,P,B,V,J]);if(k.swipeRight){v=k.swipeRight.call(z,u,H,P,B,V,J)}break;case r:z.trigger("swipeUp",[H,P,B,V,J]);if(k.swipeUp){v=k.swipeUp.call(z,u,H,P,B,V,J)}break;case i:z.trigger("swipeDown",[H,P,B,V,J]);if(k.swipeDown){v=k.swipeDown.call(z,u,H,P,B,V,J)}break}}}if(d==l){z.trigger("pinchStatus",[a,R||null,q||0,B||0,V,I,J]);if(k.pinchStatus){v=k.pinchStatus.call(z,u,a,R||null,q||0,B||0,V,I,J);if(v===false)return false}if(a==E&&gt()){switch(R){case s:z.trigger("pinchIn",[R||null,q||0,B||0,V,I,J]);if(k.pinchIn){v=k.pinchIn.call(z,u,R||null,q||0,B||0,V,I,J)}break;case o:z.trigger("pinchOut",[R||null,q||0,B||0,V,I,J]);if(k.pinchOut){v=k.pinchOut.call(z,u,R||null,q||0,B||0,V,I,J)}break}}}if(d==c){if(a===S||a===E){clearTimeout(et);clearTimeout(tt);if(Ct()&&!At()){Z=tn();et=setTimeout(e.proxy(function(){Z=null;z.trigger("tap",[u.target]);if(k.tap){v=k.tap.call(z,u,u.target)}},this),k.doubleTapThreshold)}else{Z=null;z.trigger("tap",[u.target]);if(k.tap){v=k.tap.call(z,u,u.target)}}}}else if(d==h){if(a===S||a===E){clearTimeout(et);Z=null;z.trigger("doubletap",[u.target]);if(k.doubleTap){v=k.doubleTap.call(z,u,u.target)}}}else if(d==p){if(a===S||a===E){clearTimeout(et);Z=null;z.trigger("longtap",[u.target]);if(k.longTap){v=k.longTap.call(z,u,u.target)}}}return v}function ht(){var e=true;if(k.threshold!==null){e=P>=k.threshold}return e}function pt(){var e=false;if(k.cancelThreshold!==null&&H!==null){e=Xt(H)-P>=k.cancelThreshold}return e}function dt(){if(k.pinchThreshold!==null){return q>=k.pinchThreshold}return true}function vt(){var e;if(k.maxTimeThreshold){if(B>=k.maxTimeThreshold){e=false}else{e=true}}else{e=true}return e}function mt(e,s){if(k.allowPageScroll===u||yt()){e.preventDefault()}else{var o=k.allowPageScroll===a;switch(s){case t:if(k.swipeLeft&&o||!o&&k.allowPageScroll!=v){e.preventDefault()}break;case n:if(k.swipeRight&&o||!o&&k.allowPageScroll!=v){e.preventDefault()}break;case r:if(k.swipeUp&&o||!o&&k.allowPageScroll!=m){e.preventDefault()}break;case i:if(k.swipeDown&&o||!o&&k.allowPageScroll!=m){e.preventDefault()}break}}}function gt(){var e=xt();var t=Tt();var n=dt();return e&&t&&n}function yt(){return!!(k.pinchStatus||k.pinchIn||k.pinchOut)}function bt(){return!!(gt()&&yt())}function wt(){var e=vt();var t=ht();var n=xt();var r=Tt();var i=pt();var s=!i&&r&&n&&t&&e;return s}function Et(){return!!(k.swipe||k.swipeStatus||k.swipeLeft||k.swipeRight||k.swipeUp||k.swipeDown)}function St(){return!!(wt()&&Et())}function xt(){return V===k.fingers||k.fingers===g||!x}function Tt(){return J[0].end.x!==0}function Nt(){return!!k.tap}function Ct(){return!!k.doubleTap}function kt(){return!!k.longTap}function Lt(){if(Z==null){return false}var e=tn();return Ct()&&e-Z<=k.doubleTapThreshold}function At(){return Lt()}function Ot(){return(V===1||!x)&&(isNaN(P)||P<k.threshold)}function Mt(){return B>k.longTapThreshold&&P<y}function _t(){return!!(Ot()&&Nt())}function Dt(){return!!(Lt()&&Ct())}function Pt(){return!!(Mt()&&kt())}function Ht(){G=tn();Y=event.touches.length+1}function Bt(){G=0;Y=0}function jt(){var e=false;if(G){var t=tn()-G;if(t<=k.fingerReleaseThreshold){e=true}}return e}function Ft(){return!!(z.data(C+"_intouch")===true)}function It(e){if(e===true){W.bind(O,it);W.bind(M,st);if(_){z.bind(_,ut)}}else{W.unbind(O,it,false);W.unbind(M,st,false);if(_){z.unbind(_,ut,false)}}z.data(C+"_intouch",e===true)}function qt(e,t){var n=t.identifier!==undefined?t.identifier:0;J[e].identifier=n;J[e].start.x=J[e].end.x=t.pageX||t.clientX;J[e].start.y=J[e].end.y=t.pageY||t.clientY;return J[e]}function Rt(e){var t=e.identifier!==undefined?e.identifier:0;var n=Ut(t);n.end.x=e.pageX||e.clientX;n.end.y=e.pageY||e.clientY;return n}function Ut(e){for(var t=0;t<J.length;t++){if(J[t].identifier==e){return J[t]}}}function zt(){var e=[];for(var t=0;t<=5;t++){e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return e}function Wt(e,t){t=Math.max(t,Xt(e));U[e].distance=t}function Xt(e){if(U[e])return U[e].distance;return undefined}function Vt(){var e={};e[t]=$t(t);e[n]=$t(n);e[r]=$t(r);e[i]=$t(i);return e}function $t(e){return{direction:e,distance:0}}function Jt(){return Q-K}function Kt(e,t){var n=Math.abs(e.x-t.x);var r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Qt(e,t){var n=t/e*1;return n.toFixed(2)}function Gt(){if(I<1){return o}else{return s}}function Yt(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Zt(e,t){var n=e.x-t.x;var r=t.y-e.y;var i=Math.atan2(r,n);var s=Math.round(i*180/Math.PI);if(s<0){s=360-Math.abs(s)}return s}function en(e,s){var o=Zt(e,s);if(o<=45&&o>=0){return t}else if(o<=360&&o>=315){return t}else if(o>=135&&o<=225){return n}else if(o>45&&o<135){return i}else{return r}}function tn(){var e=new Date;return e.getTime()}function nn(t){t=e(t);var n=t.offset();var r={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return r}function rn(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var L=x||N||!k.fallbackToMouseEvents,A=L?N?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",O=L?N?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",M=L?N?T?"MSPointerUp":"pointerup":"touchend":"mouseup",_=L?null:"mouseleave",D=N?T?"MSPointerCancel":"pointercancel":"touchcancel";var P=0,H=null,B=0,j=0,F=0,I=1,q=0,R=0,U=null;var z=e(d);var W=k.moveIn?e(k.moveIn):z;var X="start";var V=0;var J=null;var K=0,Q=0,G=0,Y=0,Z=0;var et=null,tt=null;try{z.bind(A,rt);W.bind(D,ot)}catch(nt){e.error("events not supported "+A+","+D+" on jQuery.swipe")}this.enable=function(){z.bind(A,rt);W.bind(D,ot);return z};this.disable=function(){at();return z};this.destroy=function(){at();z.data(C,null);return z};this.option=function(t,n){if(k[t]!==undefined){if(n===undefined){return k[t]}else{k[t]=n}}else{e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null};}var t="left",n="right",r="up",i="down",s="in",o="out",u="none",a="auto",f="swipe",l="pinch",c="tap",h="doubletap",p="longtap",d="hold",v="horizontal",m="vertical",g="all",y=10,b="start",w="move",E="end",S="cancel",x="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,N=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,C="TouchSwipe";var k={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(t){var n=e(this),r=n.data(C);if(r&&typeof t==="string"){if(r[t]){return r[t].apply(this,Array.prototype.slice.call(arguments,1))}else{e.error("Method "+t+" does not exist on jQuery.swipe")}}else if(!r&&(typeof t==="object"||!t)){return L.apply(this,arguments)}return n};e.fn.swipe.defaults=k;e.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:w,PHASE_END:E,PHASE_CANCEL:S};e.fn.swipe.directions={LEFT:t,RIGHT:n,UP:r,DOWN:i,IN:s,OUT:o};e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:v,VERTICAL:m,AUTO:a};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:g}})